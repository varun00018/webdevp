<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>23BCE5067</title>
    <style>
        .red{
            color: red;
        }
        .error{
            color: red;
            display: none;
        }
    </style>
</head>
<body onload="getTime()">
    <fieldset>
        <legend>Test JavaScript Form Validation</legend>
        <div style="display: flex;
            justify-content: end;" >
            <div style="border: solid 1px black" id="time">Time:11:30:55</div>
           
        </div>
        <form action="" onsubmit="return myfun()">
            <table >
                <tr>
                    <td>Name<span class="red">*</span></td>
                    <td><input id="name" type="text"></td>
                    <td id="id1" class="error">Please Enter your name!</td>
                </tr>
                <tr>
                    <td>Address</td>
                    <td><textarea id="address"></textarea></td>
                </tr>
                <tr>
                    <td>Zip Code<span class="red">*</span></td>
                    <td><input type="text" id="zip"></td>
                    <td id="id3" class="error">Please Enter valid Zip Code</td>
                </tr>
                <tr>
                    <td>Country<span class="red">*</span></td>
                    <td>
                        <select name="" id="country">
                            <option value="" hidden>Please select..</option>
                            <option value="India">India</option>
                            <option value="Australia">Australia</option>
                            <option value="South Africa">South Africa</option>
                            <option value="New zealand">New zealand</option>
                        </select>
                    </td>
                    <td id="id4" class="error">Please Enter Country</td>
                </tr>
                <tr>
                    <td>Gender<span class="red">*</span></td>
                    <td><input type="radio" name="gender" value="Male">Male
                    <input type="radio" name="gender" value="Female">Female</td>
                    <td id="id5" class="error">Please Enter Gender</td>
                    <td style="padding-left: 200px;">Pan No: <input type="text" id="pan"></td>
    
                </tr>
                <tr>
                    <td>Preferences<span class="red">*</span></td>
                    <td><input type="checkbox" name="pref" value="Red">Red
                    <input type="checkbox" name="pref" value="Green">Green
                    <input type="checkbox" name="pref" value="Blue">Blue</td>
                    <td id="id6" class="error">Please Enter Preferences</td>
                </tr>
                <tr>
                    <td>Phone<span class="red">*</span></td>
                    <td><input type="text" id="phone"></td>
                    <td id="id7" class="error">Please Enter valid Phone no.</td>

                </tr>
                <tr>
                    <td>Email<span class="red">*</span></td>
                    <td><input type="text" id="email"></td>
                    <td id="id8" class="error">Please Enter valid Email</td>
                </tr>
                <tr>
                    <td>Password(6-8 characters)<span class="red">*</span></td>
                    <td><input type="password" id="password"></td>
                    <td id="id9" class="error">Please Enter valid Password</td>
                </tr>
                <tr>
                    <td>Verify password<span class="red">*</span></td>
                    <td><input type="password" id="password2"></td>
                    <td id="id10" class="error">Please Enter valid Password</td>
                </tr>
                <tr>
                    <td>
 
                    </td>
                    <td>
                        <button type="submit">SEND</button>
                        <button type="reset">CLEAR</button>
                    </td>
                </tr>
            </table>
        </form>
    </fieldset>
   
</body>
<script>
     function getTime(){
        let timee= new Date();
        let hours = timee.getHours().toString().padStart(2, '0');
        let minutes = timee.getMinutes().toString().padStart(2, '0');
        let seconds = timee.getSeconds().toString().padStart(2, '0');
       
        let formattedTime = `${hours}:${minutes}:${seconds}`;
        document.getElementById("time").textContent = formattedTime;
            
    let timer=setTimeout(getTime,1000);

    }

        function myfun(){
            let name=document.getElementById("name");
            let nameerror=document.getElementById("id1");
            nameerror.style.display="none";
            if(name.value.trim()==="" || name.value.trim().length >15){
                nameerror.style.display="block";
                name.focus();
                return false;

            }
            let zip=document.getElementById("zip");
            let ziperror=document.getElementById("id3");
            ziperror.style.display="none";
            let pattern1=/[0-9]{6}$/;
            if(!pattern1.test(zip.value)){
                ziperror.style.display="block";
                zip.focus();
                return false;
            }
            let country=document.getElementById("country");
            let countryErr=document.getElementById("id4");
            countryErr.style.display="none";
          
            if(country.value.trim()===""){
                    countryErr.style.display="block";
                    country.focus();
                    return false;
            }

            let gender=document.getElementsByName("gender");
            let genErr=document.getElementById("id5");
            let selectedGen=null;
            genErr.style.display="none";
            for(let i=0;i<gender.length;i++)
            {
                if(gender[i].checked)
            {
                selectedGen=gender[i].value;
                break;
            }
            }
            if(!selectedGen){
                genErr.style.display="block";
                return false;
            }

            let preferences = document.getElementsByName("pref");
            let prefErr = document.getElementById("id6");
            prefErr.style.display = "none";

            let selectedPreferences = [];

            for (let i = 0; i < preferences.length; i++) {
                if (preferences[i].checked) {
                    selectedPreferences.push(preferences[i].value);
                }
            }

            if (selectedPreferences.length === 0) {
                prefErr.style.display = "block";
                return false;
            }


            let phone=document.getElementById("phone");
            let phoneerror=document.getElementById("id7");
            phoneerror.style.display="none";
            let pattern2=/[0-9]{10}$/;
            if(!pattern2.test(phone.value)){
                phoneerror.style.display="block";
                phone.focus();
                return false;
            }
            let email=document.getElementById("email");
            let emailerror=document.getElementById("id8");
            emailerror.style.display="none";
            let pattern3=/^[a-zA-Z.0-9]+@[a-zA-Z]+\.[.a-zA-Z]+$/;
            if(!pattern3.test(email.value)){
                emailerror.style.display="block";
                email.focus();
                return false;
            }
            let password=document.getElementById("password");
            let passworderror=document.getElementById("id9");
            passworderror.style.display="none";
            let pattern4= /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,15}$/;
            if(!pattern4.test(password.value)){
                passworderror.style.display="block";
                password.focus();
                return false;
            }
            let password2=document.getElementById("password2");
            let passworderror2=document.getElementById("id10");
            passworderror2.style.display="none";
            if(!(password2.value==password.value)){
                passworderror2.style.display="block";
                password2.focus();
                return false;
            }
            let pan=document.getElementById("pan");
            let pattern5=/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/;
            pan.textContent=pan.value;
            if(!pattern5.test(pan.value)){
                pan.value="";
                pan.setAttribute("placeholder","Please Enter valid PAN no.");

                pan.focus();
                return false;
            }
            
            document.write(`Name: ${name.value}<br>Zip: ${zip.value}<br>Phone Number: ${phone.value}<br>Email: ${email.value}<br>Pan: ${pan.value}<br>Country: ${country.value} <br> Gender: ${selectedGen} <br> Color: ${selectedPreferences} <br> Address:${document.getElementById("address").value}`);

            
            
            

            
            return true;
        
    }
    </script>
</html>